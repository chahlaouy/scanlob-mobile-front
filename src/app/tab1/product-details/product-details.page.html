<ion-header class="ion-no-border">
  <ion-toolbar class="pt-5 w-full h-24 flex items-center">
    <ion-buttons slot="start">
      <ion-menu-button>
        <ion-icon name="menu" class="text-3xl"></ion-icon>
      </ion-menu-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="search" class="text-xl"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <ion-slides [options]="sliderOptions" class="ion-padding mb-4" pager>
    <ion-slide *ngFor="let slide of sliderImages" class="px-12">
      <img [src]="slide" alt="images" class="w-full rounded-3xl mb-4" />
    </ion-slide>
  </ion-slides>
  <div class="mb-4 text-center">
    <span class="block text-lg text-black">{{product.name}}</span>
    <span class="block text-xs text-gray-400 tracking-wide"
      >{{product.qrcode.code}}</span
    >
  </div>

  <ion-card class="mx-0 rounded-2xl mb-8">
    <ion-card-header>
      <ion-card-subtitle>{{product.category.name}}</ion-card-subtitle>
      <ion-item>
        <ion-label> {{product.name}} </ion-label>
      </ion-item>
    </ion-card-header>

    <ion-card-content>
      <div class="mb-4">{{product.description}}</div>
      <div class="mb-4 flex justify-end">
        <span class="block text-xl text-black tracking-wide">{{product.price}} TND</span>
      </div>
      <ion-item lines="full">
        <ion-label slot="start">
          <div class="flex items-center flex-1">
            <div class="flex items-center mr-4">
              <ion-icon
                name="heart"
                class="text-xl text-red-400 mr-2"
              ></ion-icon>
              <span class="text-xs">{{product.favorites_count}}</span>
            </div>

            <div class="flex items-center">
              <ion-icon
                name="chatbubbles"
                class="text-xl text-purple-300 mr-2"
              ></ion-icon>
              <span class="text-xs">{{product.comments_count}}</span>
            </div>
          </div>
        </ion-label>
        <ion-label slot="end" button="true"  (click)="addProduct(product)">
          <ion-icon name="cart" class="text-xl text-gray-800"></ion-icon>
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>
  <ion-card class="mx-0 rounded-2xl mb-8">
    <ion-card-header>
      <ion-card-title>
        <ion-item>
          <ion-label> Commentaires </ion-label>
        </ion-item>
      </ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <div *ngIf="product.comments.length > 0">
        <div class="flex items-start mb-4" *ngFor="let comment of product.comments">
          <div
            class="w-12 h-12 flex items-center justify-center flex-shrink-0 mr-4"
          >
            <img
              src="https://i.pravatar.cc/200"
              class="w-12 h-12 rounded-full shadow"
            />
          </div>
          <div>
            <div class="text-sm tracking-wide mb-2 flex items-center">
              <span class="block mr-2 text-gray-500">{{comment.owner.name}}</span>
              <span class="block mr-2 text-black">a dit</span>
              <span class="block text-gray-500">{{comment.owner.name}}</span>
            </div>
            <span class="block text-xs text-gray-400 tracking-wide"
              >{{comment.body}}</span
            >
            <ion-item>
              <ion-label>
                <div class="flex items-center justify-end">
                  <div class="flex items-center mr-4">
                    <span class="text-xs mr-2">{{comment.favorites_count}}</span>
                    <ion-icon
                      name="heart"
                      class="text-xl text-purple-300"
                    ></ion-icon>
                  </div>
                </div>
              </ion-label>
            </ion-item>
          </div>
        </div>
      </div>
      <div *ngIf="product.comments.length === 0">
        <ion-item>
          <span class="text-gray-400 tracking-wide text-xs">Il n'y a pas encore de commentaires soyez le premier</span>
        </ion-item>
      </div>

      
    </ion-card-content>
  </ion-card>
</ion-content>
